<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Incenter 2 - Geotab Adapter</title>
    <style>
      /* Reset default margins and padding */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
    </style>
  </head>
  <body style="height: 100%; width: 100%; position: absolute; overflow: hidden">
    <!-- src="https://prague.test.tyrecheck.com/incenter2/"  -->
    <iframe
      id="mainIframe"
      src="https://democp.tyrecheck.com/incenter2/"
      title="Incenter 2"
      style="width: 100%; height: 100%; border: none; display: block"
      allowfullscreen
    ></iframe>

    <script>
      const lastUrl = window.localStorage.getItem('lastUrl')
      const iframe = document.getElementById('mainIframe')
      if (lastUrl) {
        console.info('Restoring last URL:', lastUrl)
        iframe.src = lastUrl
      }
      window.addEventListener('message', function (event) {
        if (event.data.type === 'url-changed') {
          window.localStorage.setItem('lastUrl', event.data.href)
        }
      })
    </script>
  </body>
</html>
